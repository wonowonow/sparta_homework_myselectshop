<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=edge"/>
<title>Test results - UserProductMvcTest</title>
<link href="../css/base-style.css" rel="stylesheet" type="text/css"/>
<link href="../css/style.css" rel="stylesheet" type="text/css"/>
<script src="../js/report.js" type="text/javascript"></script>
</head>
<body>
<div id="content">
<h1>UserProductMvcTest</h1>
<div class="breadcrumbs">
<a href="../index.html">all</a> &gt; 
<a href="../packages/com.sparta.myselectshop.mvc.html">com.sparta.myselectshop.mvc</a> &gt; UserProductMvcTest</div>
<div id="summary">
<table>
<tr>
<td>
<div class="summaryGroup">
<table>
<tr>
<td>
<div class="infoBox" id="tests">
<div class="counter">3</div>
<p>tests</p>
</div>
</td>
<td>
<div class="infoBox" id="failures">
<div class="counter">0</div>
<p>failures</p>
</div>
</td>
<td>
<div class="infoBox" id="ignored">
<div class="counter">0</div>
<p>ignored</p>
</div>
</td>
<td>
<div class="infoBox" id="duration">
<div class="counter">1.022s</div>
<p>duration</p>
</div>
</td>
</tr>
</table>
</div>
</td>
<td>
<div class="infoBox success" id="successRate">
<div class="percent">100%</div>
<p>successful</p>
</div>
</td>
</tr>
</table>
</div>
<div id="tabs">
<ul class="tabLinks">
<li>
<a href="#tab0">Tests</a>
</li>
<li>
<a href="#tab1">Standard output</a>
</li>
</ul>
<div id="tab0" class="tab">
<h2>Tests</h2>
<table>
<thead>
<tr>
<th>Test</th>
<th>Method name</th>
<th>Duration</th>
<th>Result</th>
</tr>
</thead>
<tr>
<td class="success">로그인 Page</td>
<td class="success">test1()</td>
<td class="success">0.587s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">회원 가입 요청 처리</td>
<td class="success">test2()</td>
<td class="success">0.275s</td>
<td class="success">passed</td>
</tr>
<tr>
<td class="success">신규 관심상품 등록</td>
<td class="success">test3()</td>
<td class="success">0.160s</td>
<td class="success">passed</td>
</tr>
</table>
</div>
<div id="tab1" class="tab">
<h2>Standard output</h2>
<span class="code">
<pre>16:22:08.848 [Test worker] INFO org.springframework.test.context.support.AnnotationConfigContextLoaderUtils -- Could not detect default configuration classes for test class [com.sparta.myselectshop.mvc.UserProductMvcTest]: UserProductMvcTest does not declare any static, non-private, non-final, nested classes annotated with @Configuration.
16:22:09.042 [Test worker] INFO org.springframework.boot.test.context.SpringBootTestContextBootstrapper -- Found @SpringBootConfiguration com.sparta.myselectshop.MyselectshopApplication for test class com.sparta.myselectshop.mvc.UserProductMvcTest

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v3.1.5)

2023-11-29T16:22:09.629+09:00  WARN 10972 --- [    Test worker] ory$DuplicateJsonObjectContextCustomizer : 

Found multiple occurrences of org.json.JSONObject on the class path:

	jar:file:/C:/Users/Wono/.gradle/caches/modules-2/files-2.1/org.json/json/20230227/7a0d4aca76513d8ce81f9b044ce8126b84809ad8/json-20230227.jar!/org/json/JSONObject.class
	jar:file:/C:/Users/Wono/.gradle/caches/modules-2/files-2.1/com.vaadin.external.google/android-json/0.0.20131108.vaadin1/fa26d351fe62a6a17f5cda1287c1c6110dec413f/android-json-0.0.20131108.vaadin1.jar!/org/json/JSONObject.class

You may wish to exclude one of them to ensure predictable runtime behavior

2023-11-29T16:22:09.648+09:00  INFO 10972 --- [    Test worker] c.s.myselectshop.mvc.UserProductMvcTest  : Starting UserProductMvcTest using Java 17.0.8.1 with PID 10972 (started by Wono in D:\Programing\Spring\Sparta\week4\myselectshop)
2023-11-29T16:22:09.649+09:00  INFO 10972 --- [    Test worker] c.s.myselectshop.mvc.UserProductMvcTest  : No active profile set, falling back to 1 default profile: &quot;default&quot;
2023-11-29T16:22:12.846+09:00  INFO 10972 --- [    Test worker] o.s.b.a.w.s.WelcomePageHandlerMapping    : Adding welcome page template: index
2023-11-29T16:22:13.159+09:00  WARN 10972 --- [    Test worker] .s.s.UserDetailsServiceAutoConfiguration : 

Using generated security password: fb1f21fd-7a0c-46b2-9c3e-43bbce0107da

This generated password is for development use only. Your security configuration must be updated before running your application in production.

2023-11-29T16:22:13.405+09:00  INFO 10972 --- [    Test worker] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@abc7005, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@595ec862, org.springframework.security.web.context.SecurityContextHolderFilter@23ec2bdc, org.springframework.security.web.header.HeaderWriterFilter@448086ab, org.springframework.security.web.csrf.CsrfFilter@284c4f02, org.springframework.security.web.authentication.logout.LogoutFilter@fd87c22, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4ca0b9b1, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@6591f8ea, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@63c84d31, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@69ba72da, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d132bb6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fa212df, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@102af1bb, org.springframework.security.web.access.ExceptionTranslationFilter@2ffa91dc, org.springframework.security.web.access.intercept.AuthorizationFilter@7e1a9173]
2023-11-29T16:22:13.499+09:00  INFO 10972 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-29T16:22:13.500+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-29T16:22:13.502+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2023-11-29T16:22:13.570+09:00  INFO 10972 --- [    Test worker] c.s.myselectshop.mvc.UserProductMvcTest  : Started UserProductMvcTest in 4.414 seconds (process running for 6.289)
2023-11-29T16:22:13.621+09:00  INFO 10972 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-29T16:22:13.621+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-29T16:22:13.622+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms

MockHttpServletRequest:
      HTTP Method = GET
      Request URI = /api/user/login-page
       Parameters = {}
          Headers = []
             Body = &lt;no character encoding set&gt;
    Session Attrs = {}

Handler:
             Type = com.sparta.myselectshop.controller.UserController
           Method = com.sparta.myselectshop.controller.UserController#loginPage()

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = login
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = [Content-Language:&quot;en&quot;, Content-Type:&quot;text/html;charset=UTF-8&quot;]
     Content type = text/html;charset=UTF-8
             Body = &lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot; xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;meta name=&quot;viewport&quot;
        content=&quot;width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0&quot;&gt;
  &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;ie=edge&quot;&gt;
  &lt;link rel=&quot;preconnect&quot; href=&quot;https://fonts.gstatic.com&quot;&gt;
  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;/css/style.css&quot;&gt;
  &lt;script src=&quot;https://code.jquery.com/jquery-3.7.0.min.js&quot;
          integrity=&quot;sha256-2Pmvv0kuTBOenSvLm6bvfBSSHrUJ+3A7x6P5Ebd07/g=&quot; crossorigin=&quot;anonymous&quot;&gt;&lt;/script&gt;
  &lt;script src=&quot;https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js&quot;&gt;&lt;/script&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;로그인 페이지&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;div id=&quot;login-form&quot;&gt;
  &lt;div id=&quot;login-title&quot;&gt;Log into Select Shop&lt;/div&gt;
  &lt;button id=&quot;login-kakao-btn&quot; onclick=&quot;location.href='https://kauth.kakao.com/oauth/authorize?client_id=abb034249c55acd172b2c0627c2c9043&amp;redirect_uri=http://localhost:8080/api/user/kakao/callback&amp;response_type=code'&quot;&gt;
    카카오로 로그인하기
  &lt;/button&gt;
  &lt;button id=&quot;login-id-btn&quot; onclick=&quot;location.href='/api/user/signup'&quot;&gt;
    회원 가입하기
  &lt;/button&gt;
  &lt;div&gt;
    &lt;div class=&quot;login-id-label&quot;&gt;아이디&lt;/div&gt;
    &lt;input type=&quot;text&quot; name=&quot;username&quot; id=&quot;username&quot; class=&quot;login-input-box&quot;&gt;

    &lt;div class=&quot;login-id-label&quot;&gt;비밀번호&lt;/div&gt;
    &lt;input type=&quot;password&quot; name=&quot;password&quot; id=&quot;password&quot; class=&quot;login-input-box&quot;&gt;

    &lt;button id=&quot;login-id-submit&quot; onclick=&quot;onLogin()&quot;&gt;로그인&lt;/button&gt;
  &lt;/div&gt;
  &lt;div id=&quot;login-failed&quot; style=&quot;display:none&quot; class=&quot;alert alert-danger&quot; role=&quot;alert&quot;&gt;로그인에 실패하였습니다.&lt;/div&gt;
&lt;/div&gt;
&lt;/body&gt;
&lt;script&gt;
  $(document).ready(function () {
    // 토큰 삭제
    Cookies.remove('Authorization', {path: '/'});
  });

  const href = location.href;
  const queryString = href.substring(href.indexOf(&quot;?&quot;) + 1)
  if (queryString === 'error') {
    const errorDiv = document.getElementById('login-failed');
    errorDiv.style.display = 'block';
  }

  const host = 'http://' + window.location.host;

  function onLogin() {
    let username = $('#username').val();
    let password = $('#password').val();

    $.ajax({
      type: &quot;POST&quot;,
      url: `/api/user/login`,
      contentType: &quot;application/json&quot;,
      data: JSON.stringify({username: username, password: password}),
    })
    .done(function (res, status, xhr) {
      const token = xhr.getResponseHeader('Authorization');

      Cookies.set('Authorization', token, {path: '/'})

      $.ajaxPrefilter(function (options, originalOptions, jqXHR) {
        jqXHR.setRequestHeader('Authorization', token);
      });

      window.location.href = host;
    })
    .fail(function (jqXHR, textStatus) {
      alert(&quot;Login Fail&quot;);
      window.location.href = host + '/api/user/login-page?error'
    });
  }
&lt;/script&gt;
&lt;/html&gt;
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
2023-11-29T16:22:14.192+09:00  INFO 10972 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-29T16:22:14.193+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-29T16:22:14.194+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/user/signup
       Parameters = {username=[sollertia4351], password=[robbie1234], email=[sollertia@sparta.com], admin=[false]}
          Headers = []
             Body = &lt;no character encoding set&gt;
    Session Attrs = {}

Handler:
             Type = com.sparta.myselectshop.controller.UserController
           Method = com.sparta.myselectshop.controller.UserController#signup(SignupRequestDto, BindingResult)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = redirect:/api/user/login-page
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 302
    Error message = null
          Headers = [Content-Language:&quot;en&quot;, Location:&quot;/api/user/login-page&quot;]
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = /api/user/login-page
          Cookies = []
2023-11-29T16:22:14.473+09:00  INFO 10972 --- [    Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2023-11-29T16:22:14.473+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2023-11-29T16:22:14.476+09:00  INFO 10972 --- [    Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms

MockHttpServletRequest:
      HTTP Method = POST
      Request URI = /api/products
       Parameters = {}
          Headers = [Content-Type:&quot;application/json&quot;, Accept:&quot;application/json&quot;, Content-Length:&quot;234&quot;]
             Body = &lt;no character encoding set&gt;
    Session Attrs = {}

Handler:
             Type = com.sparta.myselectshop.controller.ProductController
           Method = com.sparta.myselectshop.controller.ProductController#createProduct(ProductRequestDto, UserDetailsImpl)

Async:
    Async started = false
     Async result = null

Resolved Exception:
             Type = null

ModelAndView:
        View name = null
             View = null
            Model = null

FlashMap:
       Attributes = null

MockHttpServletResponse:
           Status = 200
    Error message = null
          Headers = []
     Content type = null
             Body = 
    Forwarded URL = null
   Redirected URL = null
          Cookies = []
</pre>
</span>
</div>
</div>
<div id="footer">
<p>
<div>
<label class="hidden" id="label-for-line-wrapping-toggle" for="line-wrapping-toggle">Wrap lines
<input id="line-wrapping-toggle" type="checkbox" autocomplete="off"/>
</label>
</div>Generated by 
<a href="http://www.gradle.org">Gradle 8.4</a> at Nov 29, 2023, 4:22:14 PM</p>
</div>
</div>
</body>
</html>
